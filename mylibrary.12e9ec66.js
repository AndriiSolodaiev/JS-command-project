!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a),a.register("4Nugj",(function(t,n){e(t.exports,"refs",(function(){return o})),e(t.exports,"library",(function(){return a})),e(t.exports,"data",(function(){return r}));var o={moviesCollection:document.querySelector(".js-films-list"),searchError:document.querySelector(".js-search-error"),form:document.querySelector(".js-search-form"),input:document.querySelector(".js-search-input"),moviesCollectionLibrary:document.querySelector(".js-library-films__list"),openWatchedBtnEl:document.querySelector(".button__watched"),openQueueBtnEl:document.querySelector(".button__queue"),libraryContainerEl:document.querySelector(".js-library-container"),libraryMessageContainerEl:document.querySelector(".library-message"),paginationEl:document.querySelector(".js-pagination"),loaderContainer:document.querySelector(".loader-container"),closeModalFooter:document.querySelector("[data-modal-close]"),modalFooter:document.querySelector("[data-modal]"),openModalFooter:document.querySelector("[data-modal-open]")},a={watchedMovies:[],queueMovies:[]},r={page:1,totalPage:1e3,searchString:"",typePagination:"trending"}})),a.register("4qXUn",(function(t,n){e(t.exports,"renderMoviesWatchedAndQueue",(function(){return i}));var o=a("4Nugj"),r=a("eikUG");function i(e,t){var n=JSON.parse(localStorage.getItem(e));if(0===n.length)o.refs.libraryMessageContainerEl.innerHTML="\n            <p class='library-message__text'>\n                There's nothing here yet...\n            </p>\n        ",o.refs.moviesCollectionLibrary.innerHTML="";else{o.refs.libraryMessageContainerEl.innerHTML="";var a=(0,r.createMarkupMovies)(n);o.refs.moviesCollectionLibrary.innerHTML=a,o.data.totalPage=Math.ceil(n.length/20),o.data.typePagination=t}}})),a.register("eikUG",(function(t,n){e(t.exports,"createMarkupMovies",(function(){return r}));var o=a("fBBVA");function r(e){return e.map((function(e){return'\n            <li class="movies__card film-colection__item" data-id='.concat(e.id,">\n                ").concat((0,o.createMoviesCardMarkup)(e),"\n            </li>")})).join("")}})),a.register("fBBVA",(function(t,n){function o(e){var t=e.title,n=e.original_title,o=e.poster_path,a=e.vote_average,r=e.genre_ids,i=e.release_date,c="";c=o?"https://image.tmdb.org/t/p/w400/".concat(o):"https://studentlegallounge.humboldt.edu/sites/default/files/styles/panopoly_image_original/public/image-coming-soon.jpg?itok=e-RY5zkr";var l=a;l=0===l?"+":a.toFixed(1);var s="|";return s=r.length&&i?"|":"","\n            <img\n                class='films-gallery__img'\n                src='".concat(c,"'\n                alt='").concat(n,"'\n                loading='lazy'\n            />\n            \n            <div class='films-gallery__wrap'>\n                <h2 class='films-gallery__title'>").concat(t,"</h2>\n                <div class='films-gallery__info'>\n                <p class='films-gallery__text'>").concat(function(e){var t=localStorage.getItem("genres"),n=JSON.parse(t),o=e.map((function(e){return n[e]}));o.length>2&&o.splice(2,o.length-1,"Other");return o.length?o.join(", "):o=""}(r)," ").concat(s," ").concat(null==i?void 0:i.slice(0,4),"</p>\n                <p class='films-gallery__rate '>").concat(l,"</p>\n                </div>\n            </div>")}e(t.exports,"createMoviesCardMarkup",(function(){return o}))})),a.register("iigdr",(function(t,n){e(t.exports,"openModal",(function(){return l}));var o=a("jBvMa"),r=a("4Nugj"),i=a("aOvQL"),c=a("4qXUn");function l(e){e.preventDefault(),document.addEventListener("keydown",(function(e){"Escape"===e.code&&(t.hidden=!0)})),r.refs.openQueueBtnEl&&document.addEventListener("keydown",(function(){r.refs.openQueueBtnEl.classList.contains("btn__current")?(0,c.renderMoviesWatchedAndQueue)("queueMovies","queue"):(0,c.renderMoviesWatchedAndQueue)("watchedMovies","watched")}));var t=document.querySelector("[mw-movie-card]");if(t.hidden=!1,e.target.closest("li")){var n=e.target.closest("li").dataset.id,a=JSON.parse(localStorage.getItem("currentMovies")).find((function(e){return e.id===Number(n)}));t.innerHTML='<div class="mw-movie container">\n    <button class="mw-movie__btn-close" type="button" mw-movie-close>\n      <svg class="mw-movie__icon-close">\n        <use\n          aria-label="close icon"\n          href="./sass/img/sprite.svg#icon-cross"\n        ></use>\n      </svg>\n    </button>\n    <div>\n      <img\n        class="mw-movie__image"\n        src="https://www.themoviedb.org/t/p/w600_and_h900_bestv2/'.concat(a.poster_path,'"\n        alt="Movie"\n        width="375"\n        height="478"\n      />\n    </div>\n    <div>\n      <h2 class="mw-movie__info-heading">').concat(a.title,'</h2>\n      <table class="mw-movie__info-table">\n        <tr class="mw-movie__info-table-row">\n          <td class="mw-movie__info-table-row-name">Vote / Votes</td>\n          <td class="mw-movie__info-table-row-data">\n            <span class="mw-movie__info-table-rating">').concat(a.vote_average.toFixed(1),'</span\n            ><span class="mw-movie__info-table-slash"> / </span>').concat(a.vote_count,'\n          </td>\n        </tr>\n        <tr class="mw-movie__info-table-row">\n          <td class="mw-movie__info-table-row-name">Popularity</td>\n          <td class="mw-movie__info-table-row-data">').concat(a.popularity.toFixed(1),'</td>\n        </tr>\n        <tr class="mw-movie__info-table-row">\n          <td class="mw-movie__info-table-row-name">Original Title</td>\n          <td class="mw-movie__info-table-row-data">').concat(a.original_title,'</td>\n        </tr>\n        <tr class="mw-movie__info-table-row">\n          <td class="mw-movie__info-table-row-name">Genres</td>\n          <td class="mw-movie__info-table-row-data">').concat(a.genres,'</td>\n        </tr>\n      </table>\n      <p class="mw-movie__info-table-description">\n        ABOUT <br />\n        ').concat(a.overview,'\n      </p>\n      <ul class="mw-movie__btn-list">\n        <li>\n          <button class="mw-movie__btn-addwatch" type="button">Add to watched</button>\n        </li>\n        <li>\n          <button class="mw-movie__btn-addqueue" type="button">Add to queue</button>\n        </li>\n      </ul>\n    </div>\n  </div>');var l=document.querySelector("[mw-movie-close]");l.addEventListener("click",(function(){t.hidden=!0})),r.refs.openQueueBtnEl&&l.addEventListener("click",(function(){r.refs.openQueueBtnEl.classList.contains("btn__current")?(0,c.renderMoviesWatchedAndQueue)("queueMovies","queue"):(0,c.renderMoviesWatchedAndQueue)("watchedMovies","watched")}));var s={addToWatchedBtnEl:document.querySelector(".mw-movie__btn-addwatch"),addToQueueBtnEl:document.querySelector(".mw-movie__btn-addqueue")};JSON.parse(localStorage.getItem("watchedMovies"))&&(r.library.watchedMovies=JSON.parse(localStorage.getItem("watchedMovies"))),JSON.parse(localStorage.getItem("queueMovies"))&&(r.library.queueMovies=JSON.parse(localStorage.getItem("queueMovies"))),(0,i.checkModalBtnName)(a,s.addToWatchedBtnEl,"watched","watchedMovies"),(0,i.checkModalBtnName)(a,s.addToQueueBtnEl,"queue","queueMovies"),s.addToWatchedBtnEl.addEventListener("click",(function(){return(0,o.onModalLibraryBtnClick)(a,r.library.watchedMovies,s.addToWatchedBtnEl,"watched","watchedMovies")})),s.addToQueueBtnEl.addEventListener("click",(function(){return(0,o.onModalLibraryBtnClick)(a,r.library.queueMovies,s.addToQueueBtnEl,"queue","queueMovies")}))}}})),a.register("jBvMa",(function(t,n){function o(e,t,n,o,a){if(n.textContent==="Add to ".concat(o))t.push(e),n.textContent="Remove from ".concat(o);else{for(var r=0;r<=t.length;r+=1)if(t[r].id===e.id){t.splice(r,1);break}n.textContent="Add to ".concat(o)}localStorage.setItem(a,JSON.stringify(t))}e(t.exports,"onModalLibraryBtnClick",(function(){return o}))})),a.register("aOvQL",(function(t,n){function o(e,t,n,o){var a=JSON.parse(localStorage.getItem(o));a&&(a.find((function(t){return e.id===t.id}))?t.textContent="Remove from ".concat(n):t.textContent="Add to ".concat(n))}e(t.exports,"checkModalBtnName",(function(){return o}))}))}();
//# sourceMappingURL=mylibrary.12e9ec66.js.map
